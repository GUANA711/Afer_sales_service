<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>欢迎您,管理员</title>
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="img/png_favicon.png" type=" image/png" >
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/nprogress@0.2.0/nprogress.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
<nav class="navbar" role="navigation">
    <div class="right_info_heading">欢迎回来，管理员</div>
    <div class="right_info_right">
        <div class="right_info"><i class="sp glyphicon glyphicon-bullhorn"></i><a href="#" class="info">通知</a></div>
        <div class="right_info"><i class="sp glyphicon glyphicon-question-sign"></i><a href="#" class="info">帮助</a></div>
        <div class="right_info"><i class="sp glyphicon glyphicon-user"></i><a href="login_tags.html" class="info">注销</a></div>
    </div>
</nav>
    <!-- 成功模态框 -->
    <div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">操作成功</h4>
                </div>
                <div class="modal-body">已成功修改个人信息</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 失败模态框 -->
    <div class="modal fade" id="failModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">操作失败</h4>
                </div>
                <div class="modal-body">编辑内容有误，请重新编辑!</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 项目管理模态框 -->
    <div class="modal fade" id="itemModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="height:600px; overflow:auto; pointer-events:auto;">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">修改项目负责人</h4>
                </div>
                <div class="modal-body">
                    <table style="width:80%;">
                        <thead>
                            <tr>
                                <th class="task_check_tb_th" style="width:20%">选择</th>
                                <th class="task_check_tb_th" style="width:30%">负责人ID</th>
                                <th class="task_check_tb_th">负责人</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template v-for="(item,index) in workers">
                                <tr>
                                    <td class="task_check_tb_td"> 
                                        <input type="radio" name="worker" :value="index"> 
                                    </td>
                                    <td class="task_check_tb_td">  
                                        {{item.User_id}}  
                                    </td>
                                    <td class="task_check_tb_td">  
                                        {{item.User_name}}
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer" id="modalFooter">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" id="modalBtn">修改</button>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row mm" id="com">
            <!-- 左侧菜单导航栏 -->
                <ul class="left_frame">
                    <li class="fram2">
                        <ul class="nav nav-pills nav-stacked">
                            <div>
                                <ul class="nav nav-pills nav-stacked ">
                                    <li class="logoImg"><img src="img/logo (1).png" alt="logo" srcset="">软件售后</li>
                                </ul> 
                            </div>
                            <li role="presentation" id="user_info" class="active"><a href="javascript:;"><i class="glyphicon glyphicon-user"></i><span class="index_title"> 个人信息</span></a></li>
                            <li role="presentation" id="item_info"><a href="javascript:;"><i class="glyphicon glyphicon-inbox"></i><span class="index_title"> 项目管理</span></a></li>
                            <li role="presentation" id="questions_check"><a href="javascript:;"><i class="glyphicon glyphicon-check"></i><span class="index_title">问题查看</span></a></li>
                            <ul class="nav nav-pills nav-stacked second_list" style="display: none;" id="info">
                                <li role="presentation" id="questions_info"><a href="javascript:;"><i class="glyphicon glyphicon-question-sign"></i><span class="index_title"> 用户问题</span></a></li>
                                <li role="presentation" id="maintenance_info"><a href="javascript:;"><i class="glyphicon glyphicon-question-sign"></i><span class="index_title"> 问题处理</span></a></li>
                                <li role="presentation" id="faq_present"><a href="javascript:;"><i class="glyphicon glyphicon-question-sign"></i><span class="index_title"> FAQ</span></a></li>
                            </ul>
                            <li role="presentation" id="task_assign"><a href="javascript:;"><i class="glyphicon glyphicon-tags"></i><span class="index_title"> 任务指派</span></a></li>
                            <li role="presentation" id="role_assign"><a href="javascript:;"><i class="glyphicon glyphicon-user"></i><span class="index_title"> 角色控制</span></a></li>
                            <li role="presentation" id="log_info"><a href="javascript:;"><i class="glyphicon glyphicon-cloud"></i><span class="index_title"> 系统日志</span></a></li>
                        </ul>
                    </li>
                </ul>
            <!--顶部导航栏  -->
            <div class="col-md-10">
                <div class="aside">
                <!-- 内容部分 -->
                <div class="container-fluid">
                    <div class="row find_panel">
                        <!-- 个人信息面板 -->
                        <div class="pa_all col-md-8 panel panel-default" id="user_panel">
                            <div class="panel-heading">
                                <h3 class="panel-title">个人信息</h3>
                            </div>
                            <div class="panel-body">
                                <form id="form_userinfo">
                                    <ul class="list-group" >
                                        <li class="list-group-item">
                                            <label for="userId">用户ID：</label>
                                            <input type="text" readonly="true" id="userId" name="userId" value="">
                                        </li>
                                        <li class="list-group-item">
                                            <label for="username">用户名：</label>
                                            <input type="text" readonly="true" id="username" name="username" value="">
                                        </li>
                                        <li class="list-group-item">
                                            <label for="tel">&ensp;&ensp;电话：</label>
                                            <input type="tel" readonly="true" id="tel" name="tel" value="">
                                        </li>
                                        <li class="list-group-item">
                                            <label for="email">&ensp;&ensp;邮箱：</label>
                                            <input type="email" readonly="true" id="email" name="email" value="">
                                        </li>
                                        <li class="bt_list">
                                            <button type="button" id="edit_bt" class="btn btn-primary">编辑</button>
                                            <button type="button" id="save_bt" class="btn btn-primary">保存</button>
                                        </li>
                                    </ul>
                                </form>
                            </div>
                        </div>
                        <!-- 项目管理 -->
                        <div class="pa_all col-md-8 panel panel-default" id="item_panel" style="display: none;">
                            <div class="panel-heading">
                                <h3 class="panel-title">项目</h3>
                            </div>
                            <div class="panel-body" id="vueItem">
                                <!--搜索框  -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="tab_search">
                                            <label>
                                                <select name="itemSelect" v-model="selected" class="searchSel">
                                                    <option v-for="(option, index) in placeholder" :value='index'>{{option}}</option>
                                                </select>
                                                <input type="text" :placeholder="'按' + placeholder[selected] + '搜索'" v-model="key" class="searchIn">
                                                <button class="btn btn-default searchBtn" v-on:click="searchFor(true)"><i class="glyphicon glyphicon-search"></i></button>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- 表格 -->
                                <div id="items">
                                    <table>
                                        <thead>
                                            <tr id="item_th">
                                                <th class="task_check_tb_th" style="width:25%">{{placeholder[0]}}</th>
                                                <th class="task_check_tb_th" style="width:40%">{{placeholder[1]}}</th>
                                                <th class="task_check_tb_th" style="width:25%">{{placeholder[2]}}</th>
                                                <th class="task_check_tb_th" style="width:10%">管理</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <template v-for="(item,index) in data">
                                                <tr id="showItems">
                                                    <td class="task_check_tb_td">  
                                                        {{item.item_id}}  
                                                    </td>
                                                    <td class="task_check_tb_td">  
                                                        {{item.item_name}}
                                                    </td>
                                                    <td class="task_check_tb_td">  
                                                        {{item.user_id}}
                                                    </td>
                                                    <td class="task_check_tb_td role_btn">
                                                        <a href="javascript:;" @click="showWorker(index)">修改</a>
                                                    </td>
                                                </tr>
                                            </template>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 页码 -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <ul class="pagination" id="pagination1">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 用户问题 -->
                        <div class="pa_all col-md-8 panel panel-default" id="questions_panel" style="display: none;">
                            <div class="panel-heading">
                                <h3 class="panel-title">用户问题</h3>
                            </div>
                            <div class="panel-body" id="vueQuestion">
                                <!--搜索框  -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="tab_search">
                                            <label>
                                                <select name="itemSelect" v-model="selected" class="searchSel">
                                                    <option v-for="(option, index) in placeholder" :value='index'>{{option}}</option>
                                                </select>
                                                <input type="text" :placeholder="'按' + placeholder[selected] + '搜索'" v-model="key" class="searchIn">
                                                <button class="btn btn-default searchBtn" v-on:click="searchFor(true)"><i class="glyphicon glyphicon-search"></i></button>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- 表格 -->
                                <div id="questions">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th class="task_check_tb_th" style="width:10%">{{placeholder[0]}}</th>
                                                <th class="task_check_tb_th" style="width:10%">{{placeholder[1]}}</th>
                                                <th class="task_check_tb_th" style="width:15%">{{placeholder[2]}}</th>
                                                <th class="task_check_tb_th" style="width:15%">{{placeholder[3]}}</th>
                                                <th class="task_check_tb_th" style="width:35%">{{placeholder[4]}}</th>
                                                <th class="task_check_tb_th" style="width:10%">{{placeholder[5]}}</th>
                                            </tr>
                                        </thead>
                                        <tbody><!-- 这里是数据库查询结果 -->
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 页码 -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <ul class="pagination" id="pagination2">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 问题处理 -->
                        <div class="pa_all col-md-8 panel panel-default" id="maintenance_panel" style="display: none;">
                            <div class="panel-heading">
                                <h3 class="panel-title">问题处理</h3>
                            </div>
                            <div class="panel-body" id="dealVue">
                                <!--搜索框  -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="tab_search">
                                            <label>
                                                <select name="itemSelect" v-model="selected" class="searchSel">
                                                    <option v-for="(option, index) in placeholder" :value='index'>{{option}}</option>
                                                </select>
                                                <template v-if="selected==2">
                                                    <input type="date" v-model="key" class="searchIn">
                                                </template>
                                                <template v-else>
                                                    <input type="text" :placeholder="'按' + placeholder[selected] + '搜索'" v-model="key" class="searchIn">
                                                </template>
                                                <button class="btn btn-default searchBtn" v-on:click="searchFor(true)"><i class="glyphicon glyphicon-search"></i></button>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- 表格 -->
                                <div id="maintenance">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th class="task_check_tb_th" v-for="option in placeholder">{{option}}</th>
                                            </tr>
                                        </thead>
                                        <tbody><!-- 这里是数据库查询结果 -->
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 页码 -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <ul class="pagination" id="pagination3">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--FAQ  -->
                        <div class="pa_all col-md-8 panel panel-default" id="faq_panel" style="display: none;">
                            <div class="panel-heading">
                                <h3 class="panel-title">常见问题</h3>
                            </div>
                            <div class="panel-body" id="vueFaq">
                                <!--搜索框  -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="tab_search">
                                            <label>
                                                <select name="itemSelect" v-model="selected" class="searchSel">
                                                    <option v-for="(option, index) in placeholder" :value='index'>{{option}}</option>
                                                </select>
                                                <input type="text" :placeholder="'按' + placeholder[selected] + '搜索'" v-model="key" class="searchIn">
                                                <button class="btn btn-default searchBtn" v-on:click="searchFor(true)"><i class="glyphicon glyphicon-search"></i></button>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- 表格 -->
                                <div id="faq">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th class="task_check_tb_th" style="width:10%">{{placeholder[0]}}</th>
                                                <th class="task_check_tb_th" style="width:35%">{{placeholder[1]}}</th>
                                                <th class="task_check_tb_th" style="width:55%">{{placeholder[2]}}</th>
                                            </tr>
                                        </thead>
                                        <tbody><!-- 这里是查询结果 -->
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 页码 -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <ul class="pagination" id="pagination4">
                                        </ul>
                                    </div>
                                </div>
                            </div>                        
                        </div>
                        <!-- 任务指派 -->
                        <div class="pa_all col-md-8 panel panel-default" id="task_assign_panel" style="display: none;">
                            <div class="panel-heading">
                                <h3 class="panel-title">任务指派</h3>
                            </div>
                            <div class="panel-body" id="selectVue">
                                  <ul class="list-group">
                                    <li class="list-group-item">
                                        <span class="select_lable">&nbsp;问题ID:</span>
                                        <select class="select_form" v-model="firstSelected" @change="secondOptions()">
                                            <option value=0 selected v-show="firstSelected==0">---请选择要分配的问题---</option>
                                            <option v-for="item in firstContain" :value="item">{{item}}</option>
                                        </select>
                                    </li>
                                  <ul class="list-group">
                                    <li class="list-group-item">
                                        <span class="select_lable">&nbsp;维修员:</span>
                                        <select class="select_form" v-model="secondSelected">
                                            <option value=0 selected v-show="secondSelected==0">---请指派问题处理人员---</option>
                                            <option v-for="item in secondContain" :value="item">{{item}}</option>
                                        </select>
                                    </li>
                                    <li class="list-group-item assign_btn" >
                                        <button class="btn btn-primary" @click="cancel">取消</button>
                                        <button class="btn btn-primary" @click="assign">指派</button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!--角色控制-->
                        <div class="pa_all col-md-8 panel panel-default" id="role_panel" style="display: none;">
                            <div class="panel-heading">
                                <h3 class="panel-title">角色控制</h3>
                            </div>
                            <div class="panel-body" id="roleControl">
                                <!--搜索框  -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="tab_search">
                                            <label>
                                                <select name="itemSelect" v-model="selected" class="searchSel">
                                                    <option v-if="index!=3" v-for="(option, index) in placeholder" :value='index'>{{option}}</option>
                                                </select>
                                                <template v-if="selected==2">
                                                    <select name="itemSelect" v-model="roleSearch" class="searchSel">
                                                        <option v-for="(option, index) in roleOptions" :value='index'>{{option}}</option>
                                                    </select>
                                                </template>
                                                <template v-else>
                                                    <input type="text" :placeholder="'按' + placeholder[selected] + '搜索'" v-model="key" class="searchIn">
                                                </template>
                                                <button class="btn btn-default searchBtn" v-on:click="searchFor(true)"><i class="glyphicon glyphicon-search"></i></button>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- 表格 -->
                                <div id="role">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th class="task_check_tb_th" style="width:10%">{{placeholder[0]}}</th>
                                                <th class="task_check_tb_th" style="width:20%">{{placeholder[1]}}</th>
                                                <th class="task_check_tb_th" style="width:40%">{{placeholder[2]}}</th>
                                                <th class="task_check_tb_th" style="width:30%">{{placeholder[3]}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <template v-for="(item,index) in data">
                                                <tr id="showItems">
                                                    <td class="task_check_tb_td">  
                                                        {{item.User_id}}  
                                                    </td>
                                                    <td class="task_check_tb_td">  
                                                        {{item.User_name}}
                                                    </td>
                                                    <td class="task_check_tb_td">
                                                        <select v-model="roleChoice[index]" class="searchSel  roles">
                                                            <option :value="item.Role_id" selected :key="item.Role_id">{{roleOptions[item.Role_id]}}</option>
                                                            <option :value="index" v-for="(option, index) in roleOptions" v-if="index!=item.Role_id&&index!=4" :key="index">{{option}}</option>
                                                        </select>
                                                    </td>
                                                    <td class="task_check_tb_td role_btn">  
                                                        <a href="javascript:;" @click="alterRole(index)">修改</a>
                                                        <a href="javascript:;" @click="deleteRole(index)">删除</a>
                                                    </td>
                                                </tr>
                                            </template>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 页码 -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <ul class="pagination" id="pagination6">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--log-->
                        <div class="pa_all col-md-8 panel panel-default" id="log_panel" style="display: none;">
                            <div class="panel-heading">
                                <h3 class="panel-title">日志</h3>
                            </div>
                            <div class="panel-body" id="logVue">
                                <!--搜索框  -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="tab_search">
                                            <label>
                                                <select name="itemSelect" v-model="selected" class="searchSel">
                                                    <option v-for="(option, index) in placeholder" :value='index' v-show="index != 5">{{option}}</option>
                                                </select>
                                                <template v-if="selected==4">
                                                    <input type="date" v-model="key" class="searchIn">
                                                </template>
                                                <template v-else>
                                                    <input type="text" :placeholder="'按' + placeholder[selected] + '搜索'" v-model="key" class="searchIn">
                                                </template>
                                                <button class="btn btn-default searchBtn" v-on:click="searchFor(true)"><i class="glyphicon glyphicon-search"></i></button>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <!-- 表格 -->
                                <div id="log">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th class="task_check_tb_th" style="width:10%">{{placeholder[0]}}</th>
                                                <th class="task_check_tb_th" style="width:25%">{{placeholder[1]}}</th>
                                                <th class="task_check_tb_th" style="width:25%">{{placeholder[2]}}</th>
                                                <th class="task_check_tb_th" style="width:15%">{{placeholder[3]}}</th>
                                                <th class="task_check_tb_th" style="width:15%">{{placeholder[4]}}</th>
                                                <th class="task_check_tb_th" style="width:10%">{{placeholder[5]}}</th>
                                            </tr>
                                        </thead>
                                        <tbody><!-- 这里是数据库查询结果 -->
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 页码 -->
                                <div class="row">
                                    <div class="col-sm-12">
                                        <ul class="pagination" id="pagination5">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                <!-- 公告栏 -->
                        <div class="col-md-4 message">       
                            <ul class="sidebar">
                                <li><h3 class="sidebar-widget-heading">超时待处理项目</h3></li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息一balabalbalbalba</a>
                                </li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息二balabalbalbalba</a>
                                </li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息三balabalbalbalba</a>
                                </li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息四balabalbalbalba</a>
                                </li>
                            </ul>
                            <ul  class="sidebar">
                                <li><h3 class="sidebar-widget-heading">超时未完成项目</h3></li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息一balabalbalbalba</a>
                                </li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息二balabalbalbalba</a>
                                </li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息三balabalbalbalba</a>
                                </li>
                                <li>
                                    <a href="javascript:;" class="categories-link">消息四balabalbalbalba</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>
    <script src="js/jq-paginator.min.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/jquery.validate.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>